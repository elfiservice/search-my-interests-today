!function(){const e=document.querySelector("#search-form"),n=document.querySelector("#search-keyword");let r;const t=document.querySelector("#response-container");e.addEventListener("submit",function(e){function s(e,n){console.log(e),t.insertAdjacentHTML("beforeend",`<p class="network-warning">Oh no! There was an error making a request for the ${n}.</p>`)}e.preventDefault(),t.innerHTML="",r=n.value,fetch(`https://api.unsplash.com/search/photos?page=1&query=${r}`,{headers:{Authorization:"Client-ID 795f815f9db950af216b40bc64a9bdfd4a5805d5387f88c8fa5d6a88a682aa31"}}).then(e=>e.json()).then(function(e){let n="";if(e&&e.results&&e.results[0]){const r=e.results[0];n=`\n                                <figure>\n                                    <img src="${r.urls.regular}" alt="${r.description}">\n                                    <figcaption>${r.description}<br> by <i>${r.user.name}</i><br> from <i>${r.user.location}</i></figcaption>\n                                </figure>`}else n='<p class="network-warning">Unfortunately, no <i>image</i> was returned for your search.</p>';t.insertAdjacentHTML("afterbegin",n)}).catch(e=>s(e,"image")),fetch(`http://api.nytimes.com/svc/search/v2/articlesearch.json?q=${r}&api-key=5ed067b15e7c4deeb029547379606584`).then(e=>e.json()).then(function(e){let n="";if(e&&e.response.docs&&e.response.docs[0]){const r=e.response.docs;n="<ul>"+r.map(e=>`<li class="article">\n                    <img src="img/icon-article.png" >\n                    <div>\n                        <a href="${e.web_url}" target="_blank">\n                            <h2>${e.headline.main}</h2>\n                        </a>\n                        <p>${e.snippet}</p>\n                    </div>\n                    </li>`).join("")+"</ul>"}else n='<p class="network-warning">Unfortunately, no <i>articles</i> was returned for your search.</p>';t.insertAdjacentHTML("beforeend",n)}).catch(e=>s(e,"articles"))})}();